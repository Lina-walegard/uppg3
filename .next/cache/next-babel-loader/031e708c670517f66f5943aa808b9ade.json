{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Asus/source/react/course/latest/labb3/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useContext, useCallback, useMemo } from \"react\";\nimport Coin from \"./Coin\";\nimport LangContext from \"../Context/LangContext\";\nimport ClearBtn from \"../Components/ClearBtn\";\n\nfunction CoinCalculator(props) {\n  var _useState = useState([{\n    name: \"10ore1874-1961\",\n    values: [0, 0]\n  }, {\n    name: \"25ore1874-1961\",\n    values: [0, 0]\n  }, {\n    name: \"25ore1943-1961\",\n    values: [0, 0]\n  }, {\n    name: \"50ore1875-1939\",\n    values: [0, 0]\n  }, {\n    name: \"50ore1943-1961\",\n    values: [0, 0]\n  }, {\n    name: \"1kr1875-1941\",\n    values: [0, 0]\n  }, {\n    name: \"1kr1942-1967\",\n    values: [0, 0]\n  }, {\n    name: \"2kr1876-1940\",\n    values: [0, 0]\n  }, {\n    name: \"2kr1942-1966\",\n    values: [0, 0]\n  }, {\n    name: \"5kr1935\",\n    values: [0, 0]\n  }, {\n    name: \"5kr1952-1971\",\n    values: [0, 0]\n  }, {\n    name: \"10kr1972\",\n    values: [0, 0]\n  }, {\n    name: \"50kr1975/76\",\n    values: [0, 0]\n  }]),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var context = useContext(LangContext);\n\n  var _useState2 = useState(0),\n      total = _useState2[0],\n      setTotal = _useState2[1];\n\n  var _useState3 = useState(0),\n      price = _useState3[0],\n      setPrice = _useState3[1];\n\n  var getTotal = useMemo(function () {\n    var res = 0;\n    data.forEach(function sum(item, index) {\n      res += item.values[0] * item.values[1];\n    });\n    return res;\n  }, [data]);\n  var getPrice = useMemo(function () {\n    var price = props.metal / 31.14 * props.sek;\n    return price;\n  }, [props.metal, props.sek]);\n  useEffect(function () {\n    setPrice(getPrice);\n    setTotal(getTotal);\n  }, [props.sek, props.metal, getPrice, getTotal]);\n  var ClearData = useCallback(function () {\n    var newArr = _toConsumableArray(data);\n\n    newArr.map(function (x) {\n      return x.values[0] = 0;\n    });\n    setData(newArr);\n  }, [data]);\n  var updateInput = useCallback(function (e) {\n    var newArr = _toConsumableArray(data);\n\n    var name = e.target.name;\n    var index = newArr.findIndex(function (item) {\n      return item.name === name;\n    });\n    newArr[index].values[0] = e.target.value;\n    setData(newArr);\n  }, [data]);\n\n  function roundUp(from, to) {\n    return Math.ceil(from / to) * to;\n  }\n\n  function handleSubmitted(e) {\n    e.preventDefault();\n    e.target.reset();\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"formWrapper\",\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: handleSubmitted,\n      className: \"formStyle\",\n      children: [/*#__PURE__*/_jsx(Coin, {\n        title: \"10 \\xF6re* 1874 - 1961:\",\n        price: data[0].values[1] = roundUp(price * 0.4, 0.25),\n        name: \"10ore1874-1961\",\n        sum: data[0].values[0] * roundUp(price * 0.4, 0.25),\n        updateInput: updateInput,\n        amount: data[0].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"25 \\xF6re* 1874 - 1941:\",\n        price: data[1].values[1] = roundUp(price * 0.65, 0.25),\n        name: \"25ore1874-1961\",\n        sum: data[1].values[0] * roundUp(price * 0.65, 0.25),\n        updateInput: updateInput,\n        amount: data[1].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"25 \\xF6re* 1943 - 1961:\",\n        price: data[2].values[1] = roundUp(price * 1.01, 0.25),\n        name: \"25ore1943-1961\",\n        sum: data[2].values[0] * roundUp(price * 1.01, 0.25),\n        updateInput: updateInput,\n        amount: data[2].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"50 \\xF6re* 1875 - 1939:\",\n        price: data[3].values[1] = roundUp(price * 1.24, 0.25),\n        name: \"50ore1875-1939\",\n        sum: data[3].values[0] * roundUp(price * 1.24, 0.25),\n        updateInput: updateInput,\n        amount: data[3].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"50 \\xF6re* 1943 - 1961:\",\n        price: data[4].values[1] = roundUp(price * 2.03, 0.25),\n        name: \"50ore1943-1961\",\n        sum: data[4].values[0] * roundUp(price * 2.03, 0.25),\n        updateInput: updateInput,\n        amount: data[4].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"1kr 1875 - 1941:\",\n        price: data[5].values[1] = roundUp(price * 2, 0.5),\n        name: \"1kr1875-1941\",\n        sum: data[5].values[0] * roundUp(price * 2, 0.5),\n        updateInput: updateInput,\n        amount: data[5].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"1kr 1942 - 1967(68**):\",\n        price: data[6].values[1] = roundUp(price * 4.2, 0.5),\n        name: \"1kr1942-1967\",\n        sum: data[6].values[0] * roundUp(price * 4.2, 0.5),\n        updateInput: updateInput,\n        amount: data[6].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"2kr 1876 - 1940:\",\n        price: data[7].values[1] = roundUp(price * 4, 0.5),\n        name: \"2kr1876-1940\",\n        sum: data[7].values[0] * roundUp(price * 4, 0.5),\n        updateInput: updateInput,\n        amount: data[7].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"2kr 1942 - 1966:\",\n        price: data[8].values[1] = roundUp(price * 8.4, 0.5),\n        name: \"2kr1942-1966\",\n        sum: data[8].values[0] * roundUp(price * 8.4, 0.5),\n        updateInput: updateInput,\n        amount: data[8].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"5kr 1935:\",\n        price: data[9].values[1] = roundUp(price * 5.05, 0.5),\n        name: \"5kr1935\",\n        sum: data[9].values[0] * roundUp(price * 5.05, 0.5),\n        updateInput: updateInput,\n        amount: data[9].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"5kr 1952 - 1971:\",\n        price: data[10].values[1] = roundUp(price * 16.2, 0.5),\n        name: \"5kr1952-1971\",\n        sum: data[10].values[0] * roundUp(price * 16.2, 0.5),\n        updateInput: updateInput,\n        amount: data[10].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"10kr 1972:\",\n        price: data[11].values[1] = roundUp(price * 10.5, 1),\n        name: \"10kr1972\",\n        sum: data[11].values[0] * roundUp(price * 10.5, 1),\n        updateInput: updateInput,\n        amount: data[11].values[0]\n      }), /*#__PURE__*/_jsx(Coin, {\n        title: \"50kr 1975/1976:\",\n        price: data[12].values[1] = roundUp(price * 17.5, 1),\n        name: \"50kr1975/76\",\n        sum: data[12].values[0] * roundUp(price * 17.5, 1),\n        updateInput: updateInput,\n        amount: data[12].values[0]\n      }), /*#__PURE__*/_jsxs(\"label\", {\n        className: \"labelItemTotal\",\n        children: [context.lang === \"sv\" ? \"Totalt: \" : \"Total: \", total, \" :-\"]\n      }), /*#__PURE__*/_jsx(ClearBtn, {\n        handleClick: ClearData\n      })]\n    })\n  });\n}\n\nexport default CoinCalculator;","map":null,"metadata":{},"sourceType":"module"}