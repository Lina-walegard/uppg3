{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Asus\\\\source\\\\react\\\\course\\\\labb3\\\\Components\\\\FetchData.jsx\";\nimport React, { useState, useEffect, useReducer } from \"react\";\n\nconst FetchData = props => {\n  const {\n    0: data,\n    1: setData\n  } = useState({\n    urlMetal: \"https://metals-api.com/api/latest?access_key=qba30a3bp2c9dl6oupq250f11my19te3u5fkbd6jk807o831mnb1g1o5jaiz&base=EUR&symbols=XAG\",\n    urlSek: \"https://api.exchangeratesapi.io/latest?base=EUR\"\n  });\n\n  function metalReducer(state, action) {\n    switch (action.type) {\n      case \"setMetal\":\n        {\n          return action.data;\n        }\n\n      default:\n        return state;\n    }\n  }\n\n  const {\n    0: metal,\n    1: dispatch\n  } = useReducer(metalReducer, 0);\n  const {\n    0: sek,\n    1: setSek\n  } = useState(0);\n  useEffect(() => {\n    async function getMetalPrice() {\n      const response = await fetch(data.urlMetal);\n\n      if (response.ok) {\n        var dataRes = await response.json();\n        dispatch({\n          type: \"setMetal\",\n          data: dataRes.rates.XAG\n        });\n      }\n    }\n\n    async function getSek() {\n      const responseSEK = await fetch(data.urlSek);\n\n      if (responseSEK.ok) {\n        var dataResSEK = await responseSEK.json();\n        setSek(dataResSEK.rates.SEK);\n      }\n    }\n\n    async function fetchdata() {\n      await getMetalPrice();\n      await getSek();\n    }\n\n    fetchdata();\n  }, [data.urlMetal, data.urlSek]);\n  useEffect(() => {\n    if (metal !== 0 && sek !== 0) {\n      props.functionCallFromParent(metal, sek);\n    }\n  }, [metal, sek, props]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 10\n  }, this);\n};\n\nexport default FetchData;","map":{"version":3,"sources":["C:/Users/Asus/source/react/course/labb3/Components/FetchData.jsx"],"names":["React","useState","useEffect","useReducer","FetchData","props","data","setData","urlMetal","urlSek","metalReducer","state","action","type","metal","dispatch","sek","setSek","getMetalPrice","response","fetch","ok","dataRes","json","rates","XAG","getSek","responseSEK","dataResSEK","SEK","fetchdata","functionCallFromParent"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAC3B,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBN,QAAQ,CAAC;AAC/BO,IAAAA,QAAQ,EACN,gIAF6B;AAG/BC,IAAAA,MAAM,EAAE;AAHuB,GAAD,CAAhC;;AAMA,WAASC,YAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAqC;AACnC,YAAQA,MAAM,CAACC,IAAf;AACE,WAAK,UAAL;AAAiB;AACf,iBAAOD,MAAM,CAACN,IAAd;AACD;;AACD;AACE,eAAOK,KAAP;AALJ;AAOD;;AAED,QAAM;AAAA,OAACG,KAAD;AAAA,OAAQC;AAAR,MAAoBZ,UAAU,CAACO,YAAD,EAAe,CAAf,CAApC;AACA,QAAM;AAAA,OAACM,GAAD;AAAA,OAAMC;AAAN,MAAgBhB,QAAQ,CAAC,CAAD,CAA9B;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAegB,aAAf,GAA+B;AAC7B,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACd,IAAI,CAACE,QAAN,CAA5B;;AAEA,UAAIW,QAAQ,CAACE,EAAb,EAAiB;AACf,YAAIC,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAApB;AACAR,QAAAA,QAAQ,CAAC;AACPF,UAAAA,IAAI,EAAE,UADC;AAEPP,UAAAA,IAAI,EAAEgB,OAAO,CAACE,KAAR,CAAcC;AAFb,SAAD,CAAR;AAID;AACF;;AAED,mBAAeC,MAAf,GAAwB;AACtB,YAAMC,WAAW,GAAG,MAAMP,KAAK,CAACd,IAAI,CAACG,MAAN,CAA/B;;AAEA,UAAIkB,WAAW,CAACN,EAAhB,EAAoB;AAClB,YAAIO,UAAU,GAAG,MAAMD,WAAW,CAACJ,IAAZ,EAAvB;AACAN,QAAAA,MAAM,CAACW,UAAU,CAACJ,KAAX,CAAiBK,GAAlB,CAAN;AACD;AACF;;AAED,mBAAeC,SAAf,GAA2B;AACzB,YAAMZ,aAAa,EAAnB;AACA,YAAMQ,MAAM,EAAZ;AACD;;AAEDI,IAAAA,SAAS;AACV,GA5BQ,EA4BN,CAACxB,IAAI,CAACE,QAAN,EAAgBF,IAAI,CAACG,MAArB,CA5BM,CAAT;AA8BAP,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIY,KAAK,KAAK,CAAV,IAAeE,GAAG,KAAK,CAA3B,EAA8B;AAC5BX,MAAAA,KAAK,CAAC0B,sBAAN,CAA6BjB,KAA7B,EAAoCE,GAApC;AACD;AACF,GAJQ,EAIN,CAACF,KAAD,EAAQE,GAAR,EAAaX,KAAb,CAJM,CAAT;AAMA,sBAAO;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CAzDD;;AA2DA,eAAeD,SAAf","sourcesContent":["import React, { useState, useEffect, useReducer } from \"react\";\r\n\r\nconst FetchData = (props) => {\r\n  const [data, setData] = useState({\r\n    urlMetal:\r\n      \"https://metals-api.com/api/latest?access_key=qba30a3bp2c9dl6oupq250f11my19te3u5fkbd6jk807o831mnb1g1o5jaiz&base=EUR&symbols=XAG\",\r\n    urlSek: \"https://api.exchangeratesapi.io/latest?base=EUR\",\r\n  });\r\n\r\n  function metalReducer(state, action) {\r\n    switch (action.type) {\r\n      case \"setMetal\": {\r\n        return action.data;\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n\r\n  const [metal, dispatch] = useReducer(metalReducer, 0);\r\n  const [sek, setSek] = useState(0);\r\n\r\n  useEffect(() => {\r\n    async function getMetalPrice() {\r\n      const response = await fetch(data.urlMetal);\r\n\r\n      if (response.ok) {\r\n        var dataRes = await response.json();\r\n        dispatch({\r\n          type: \"setMetal\",\r\n          data: dataRes.rates.XAG,\r\n        });\r\n      }\r\n    }\r\n\r\n    async function getSek() {\r\n      const responseSEK = await fetch(data.urlSek);\r\n\r\n      if (responseSEK.ok) {\r\n        var dataResSEK = await responseSEK.json();\r\n        setSek(dataResSEK.rates.SEK);\r\n      }\r\n    }\r\n\r\n    async function fetchdata() {\r\n      await getMetalPrice();\r\n      await getSek();\r\n    }\r\n\r\n    fetchdata();\r\n  }, [data.urlMetal, data.urlSek]);\r\n\r\n  useEffect(() => {\r\n    if (metal !== 0 && sek !== 0) {\r\n      props.functionCallFromParent(metal, sek);\r\n    }\r\n  }, [metal, sek, props]);\r\n\r\n  return <div></div>;\r\n};\r\n\r\nexport default FetchData;\r\n"]},"metadata":{},"sourceType":"module"}